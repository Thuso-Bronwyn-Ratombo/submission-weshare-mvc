<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{/layout.html}">
<head></head>
<body>
<div layout:fragment="contents">
    <section class="expenseList">
        <h2>My Expenses</h2>

        <!-- Add Expense Link -->
        <a id="add_expense" th:href="@{/newexpense}">Add a new expense</a>

        <!-- Message if no expenses exist -->
        <p id="no_expenses" th:if="${#lists.isEmpty(expenses)}">You don't have any expenses!</p>

<!--        &lt;!&ndash; Block format for listing expenses &ndash;&gt;-->
<!--        <div id="expenses" th:unless="${#lists.isEmpty(expenses)}">-->
<!--            <th:block th:each="expense: ${expenses}">-->
<!--                <p>Date: <span th:text="${expense.date}">05/09/2022</span></p>-->
<!--                <p>Description: <span th:text="${expense.description}">Lunch</span></p>-->
<!--                <p>Amount: <span th:text="${expense.amount}">ZAR 120</span></p>-->
<!--            </th:block>-->
<!--        </div>-->

        <!-- Table format for listing expenses -->
        <table th:if="${!#lists.isEmpty(expenses)}">
            <thead>
            <tr>
                <th>When</th>
                <th>What</th>
                <th>Amount</th>
                <th>Payments Requested</th>
                <th>Payments Received</th>
                <th>Nett Expense</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="expense : ${expenses}">
                <!-- Assuming `expense.date`, `expense.description`, `expense.amount`, etc. are available -->
                <td id="date_${expense.id}" th:text="${expense.date}">05/09/2022</td>
                <td id="description_${expense.id}">
                    <a th:href="@{/expense/detail/{id}(id=${expense.id})}" th:text="${expense.description}">Lunch</a>
                </td>
                <td id="amount_${expense.id}" th:text="${expense.amount}">ZAR 120.00</td> <!-- Updated here -->
                <td id="request_${expense.id}" th:text="'N/A'">N/A</td>
                <td id="received_${expense.id}" th:text="'N/A'">N/A</td>
                <td id="net_${expense.id}" th:text="${expense.amount}">ZAR 120.00</td> <!-- Updated here -->
            </tr>
            </tbody>
        </table>
        <table th:if="${!#lists.isEmpty(expenses)}">
            <thead>
            <tr>
                <th>Total expense</th>
            </tr>
            <tr>
                <td id="grand_total">ZAR 120.00</td>
            </tr>
            </thead>
        </table>

    </section>
</div>
</body>
</html>
